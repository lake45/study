<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.shop.system.domain.mapper.LoginMapper">

    <!-- 获取用户信息 -->
  <select id="getUserMessage" parameterType="java.util.Map"
          resultType= "com.shop.system.domain.model.LoginModel">
    SELECT
        id              id,
        name            name,
        birthday        birthday,
        sex             sex,
        money           money,
        vip_level       vipLevel,
        phone           phone
    FROM
        shop_user
    WHERE
        id = #{id}
  </select>

    <!-- 用户是否存在 -->
    <select id="ifExist" parameterType="java.util.Map" resultType = "java.lang.String">
        SELECT
            count(0)
        FROM
            shop_user
        WHERE
            user_name = #{userName}
    </select>
    <!-- 登录 -->
  <select id="login" parameterType="java.util.Map"
          resultType= "com.shop.system.domain.model.LoginModel">
    SELECT
        id              id,
        name            name,
        birthday        birthday,
        sex             sex,
        money           money,
        vip_level       vipLevel,
        phone           phone
    FROM
        shop_user
    WHERE
        user_name = #{userName}
    AND pass_word = #{passWord}
  </select>

    <!-- 注册 -->
    <insert id="register" parameterType="java.util.Map">
        insert into shop_user(id, user_name, pass_word, create_time, is_deleted)
        values
        (#{id}, #{userName}, #{passWord}, #{createTime}, 0);
    </insert>
</mapper>
